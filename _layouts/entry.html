---
layout: base
---

<main>
  <div>
    <h1>{{ page.title }}</h1>

    <div class="box">
      <img src="/assets/images/scaled/{{ page.title }}_800.webp">
    </div>

    {%- if page.street_view -%}

      <div style="height: 10px;"></div>

      <button id="toggleVisibility" onclick="toggleVisibility()">where am i?</button>

      <div style="height: 10px;"></div>

      <div class="box" id="mapContainer" style="display: none;">
        <button onclick="toggleMapType()">change map type</button>

        <div style="height: 10px;"></div>

        <iframe
          id="mapFrame"
          src="{{ page.street_view }}"
          width="100%"
          height="400"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          ></iframe>

      </div>

    {%- endif -%}

  </div>
</main>

<script>
  function toggleVisibility() {
    var map = document.getElementById('mapContainer');
    var button = document.getElementById('toggleVisibility');

    if (map.style.display === 'none') {
      map.style.display = 'block';
      button.innerText = "hide map"

      // Scroll to the very bottom
      window.scrollTo({
        top: document.body.scrollHeight,
      });
    } else {
      map.style.display = 'none';
      button.innerText = "where am i?"
    }

  };

  function toggleMapType() {
    var map = document.getElementById('mapFrame');
    if (map.src === '{{ page.street_view }}') {
      map.src = '{{ page.map_view }}';
    } else {
      map.src = '{{ page.street_view }}';
    }
  };
</script>

<style>
  main {
    text-align: center;
  }

  img {
    max-width: 100%;
  }

  button {
    font-size: 18px;
    cursor: pointer;
    width: 100%;
    background-color: white;
    border: none;
    padding: 6px 0;
    border-top: 1px solid grey;
    border-bottom: 1px solid grey;
  }

  .box {
    width: 100%;
  }
</style>
